\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{struggle}[2014/12/22 Struggle board generator]

\RequirePackage{tikz}
\RequirePackage{verbatim}
\usetikzlibrary{arrows,shapes}







\newenvironment{struggleboard}[1][0.5]
{ % before
  % \newcommand{\arrow}[2]{
  %   \draw[thick] [->] (##1) -- (##2);
  % }
  \
  \newcommand{\move}[2]{
    \path[->] (##1) edge [bend left,thick] (##2);
  }
  \
  \newcommand{\highlight}[2]{
    \path[fill=##2,fill opacity=0.5] (##1) circle [radius=0.25];
  }
  \
  \newcommand{\piece}[2]{
    \draw[fill=##2] (##1) circle [radius=0.25];
  }
  \
  \newcommand{\piecetext}[3]{ % piece, text, color
    \node[draw=none,fill=none,color=##3] at (##1) {\scriptsize{##2}};
  }
  \
  \begin{tikzpicture}[scale=#1]
    \tikzstyle{every node}=[draw,fill=black,circle,inner sep=1]
    \node (a1) at (0, 5.196152) {};
    \node (b1) at (-1/2, 4.330127) {};
    \node (b2) at (1/2, 4.330127) {};
    \node (c1) at (-1, 3.4641016) {};
    \node (c2) at (0, 3.4641016) {};
    \node (c3) at (1, 3.4641016) {};
    \node (d1) at (-3/2, 2.598076) {};
    \node (d2) at (-1/2, 2.598076) {};
    \node (d3) at (1/2, 2.598076) {};
    \node (d4) at (3/2, 2.598076) {};
    \node (e1) at (-2, 1.7320508) {};
    \node (e2) at (-1, 1.7320508) {};
    \node (e3) at (0, 1.7320508) {};
    \node (e4) at (1, 1.7320508) {};
    \node (e5) at (2, 1.7320508) {};
    \node (f1) at (-5/2, 0.8660254) {};
    \node (f2) at (-3/2, 0.8660254) {};
    \node (f3) at (-1/2, 0.8660254) {};
    \node (f4) at (1/2, 0.8660254) {};
    \node (f5) at (3/2, 0.8660254) {};
    \node (f6) at (5/2, 0.8660254) {};
    \
    \node (m1) at (0, -5.196152) {};
    \node (l1) at (-1/2, -4.330127) {};
    \node (l2) at (1/2, -4.330127) {};
    \node (k1) at (-1, -3.4641016) {};
    \node (k2) at (0, -3.4641016) {};
    \node (k3) at (1, -3.4641016) {};
    \node (j1) at (-3/2, -2.598076) {};
    \node (j2) at (-1/2, -2.598076) {};
    \node (j3) at (1/2, -2.598076) {};
    \node (j4) at (3/2, -2.598076) {};
    \node (i1) at (-2, -1.7320508) {};
    \node (i2) at (-1, -1.7320508) {};
    \node (i3) at (0, -1.7320508) {};
    \node (i4) at (1, -1.7320508) {};
    \node (i5) at (2, -1.7320508) {};
    \node (h1) at (-5/2, -0.8660254) {};
    \node (h2) at (-3/2, -0.8660254) {};
    \node (h3) at (-1/2, -0.8660254) {};
    \node (h4) at (1/2, -0.8660254) {};
    \node (h5) at (3/2, -0.8660254) {};
    \node (h6) at (5/2, -0.8660254) {};
    \node (g5) at (2, 0.0) {};
    \node (g4) at (1, 0.0) {};
    \node (g3) at (0, 0.0) {};
    \node (g2) at (-1, 0.0) {};
    \node (g1) at (-2, 0.0) {};
}
{ % after
  \end{tikzpicture}
}